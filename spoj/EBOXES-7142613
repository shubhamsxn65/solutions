#include<stdio.h>
int main()
{
	long long int t,n,k,f,T,s;
	float x;
	scanf("%lld",&t);
	while(t>0)
	{
		scanf("%lld%lld%lld%lld",&n,&k,&T,&f);
		x=(float)(f-n)/(T*(k-1));
		s=n+(x*T*k);
		printf("%lld\n",s);
		t--;
	}
	return 0;
}